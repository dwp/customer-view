{% extends "layouts/main.html" %}

{% block header %}

{{ super() }}

<style>
  .govuk-service-navigation__wrapper{
      flex-grow: 1;
  }
</style>

{% set navigationEnd %}
<li class="govuk-service-navigation__item" style="margin-left: auto;">
  <a class="govuk-service-navigation__link" href="#">Sign out</a>
</li>
{% endset %}

{{ govukServiceNavigation({

serviceName: "Get proof of your benefits and State Pension",

  slots: {
      navigationEnd: navigationEnd
  }
}) }}

{% endblock %}

{% block pageTitle %}
You cannot get a proof of benefit letter using this service
{% endblock %}

{% block beforeContent %}

  {{ govukPhaseBanner({
    tag: {
      text: "Beta"
    },
    html: 'This is a new service. Help us improve it and <a class="govuk-link" href="#">give your feedback (opens in new tab)</a>.'
  }) }}

  {{ govukBackLink({
    text: "Back",
    href: "javascript:window.history.back()"
  }) }}

{% endblock %}

{% block content %}

  <!-- This page is shown when a user indicates their address is incorrect by selecting "No"
       on the address confirmation page (handled by send-letter-to-address-answer route) -->
  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">


      {% if 'State Pension' in data.researchSetUpBenefits and data.researchSetUpBenefits|length > 1 %}
      <h1 class="govuk-heading-l">You cannot get proof of your benefits or State Pension using this service</h1>
    {% elif 'State Pension' in data.researchSetUpBenefits %}
      <h1 class="govuk-heading-l">You cannot get proof of your State Pension using this service</h1>
    {% elif data.researchSetUpBenefits %}
      <h1 class="govuk-heading-l">You cannot get proof of your benefits using this service</h1>
    {% endif %}



      <!-- Conditional content based on benefit selection:
           1. If only State Pension is selected, show Pension Service specific message
           2. If multiple benefits including State Pension, show both general and Pension Service messages
           3. If other benefits (no State Pension), show general message -->

       <!-- 2. User selects multiple benefits and state pension at start then just state pension -->
       
       {% if 'State Pension' in data['inScope'] and data['inScope']|length == 1 %}
       <p>Before you can get proof of your State Pension, you need to <a href="https://www.gov.uk/contact-pension-service/report-changes" class="govuk-link" rel="noreferrer noopener" target="_blank">contact the Pension Service to correct your address (opens in a new tab)</a>.</p>
         {% endif %}

         {% if 'State Pension' in data['inScope'] and data['inScope']|length > 1 %}
         <p>Before you can get proof of your benefits, you need to <a href="https://www.gov.uk/report-benefits-change-circumstances#:~:text=How%20to%20report%20changes" class="govuk-link" rel="noreferrer noopener" target="_blank">contact each benefit to correct your address (opens in a new tab)</a>.</p>

         <p>To get proof of your State Pension, you also need to <a href="https://www.gov.uk/contact-pension-service/report-changes" class="govuk-link" rel="noreferrer noopener" target="_blank">tell the Pension Service your correct address (opens in a new tab)</a>.</p>
           {% endif %}

           {% if 'State Pension' not in data['inScope'] %}
           <p>Before you can get proof of your benefits, you need to <a href="https://www.gov.uk/report-benefits-change-circumstances#:~:text=How%20to%20report%20changes" class="govuk-link" rel="noreferrer noopener" target="_blank">contact each benefit to correct your address (opens in a new tab)</a>.</p>

             {% endif %}

             <!--
      {% if data['researchSetUpBenefits'].length === 1 and data['researchSetUpBenefits'].includes("State Pension") %}
      <p>Before you can get proof of your State Pension, you need to <a href="https://www.gov.uk/contact-pension-service/report-changes" class="govuk-link" rel="noreferrer noopener" target="_blank">contact the Pension Service to correct your address (opens in a new tab)</a>.</p>

      {% elif data['which-benefits-need-proof'].length > 1 and data['which-benefits-need-proof'].includes("State Pension") %}
      <p>Before you can get proof of your benefits, you need to <a href="https://www.gov.uk/report-benefits-change-circumstances#:~:text=How%20to%20report%20changes" class="govuk-link" rel="noreferrer noopener" target="_blank">contact each benefit to correct your address (opens in a new tab)</a>.</p>

      <p>To get proof of your State Pension, you also need to <a href="https://www.gov.uk/contact-pension-service/report-changes" class="govuk-link" rel="noreferrer noopener" target="_blank">tell the Pension Service your correct address (opens in a new tab)</a>.</p>

      {% else %}
      <p>Before you can get proof of your benefits, you need to <a href="https://www.gov.uk/report-benefits-change-circumstances#:~:text=How%20to%20report%20changes" class="govuk-link" rel="noreferrer noopener" target="_blank">contact each benefit to correct your address (opens in a new tab)</a>.</p>
      {% endif %}-->

      <p class="govuk-body">
        You cannot change your address online yet.
      </p>

      <p class="govuk-body">
        You may ask for proof of your benefits when you contact each benefit to change your address.
      </p>

      <div class="govuk-button-group">
        {{ govukButton({
          text: "Sign out",
          href: "signout"
        }) }}

        {{ govukButton({
          text: "Go back to account home",
          href: "account-home",
          classes: "govuk-button--secondary"
        }) }}
      </div>

    </div>
  </div>

{% endblock %}
